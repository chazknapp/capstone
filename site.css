:root{
  --bg:#ffffff;
  --text:#111;
  --muted:#6b7280;
  --accent:#111;
  --panel:#f5f6f7;
  --border:#e5e7eb;
}

/* Base */
*{ box-sizing:border-box }
html,body{
  height:100%;
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  text-align:left;                 /* default alignment = LEFT */
  line-height:1.5;
}

/* Alignment utilities */
.align-left   { text-align:left !important; }
.align-center { text-align:center !important; }

/* Views */
.view{ display:none; height:100% }
.view.active{ display:block }

/* Home */
.home-card{ max-width:720px; margin:6rem auto 0; padding:0 1rem; text-align:center }
.home-card h1{ font-size:2.2rem; margin:0 0 .5rem }
.home-card .intro{ color:var(--muted); margin-bottom:1rem }
#home-hero{ width:100%; border-radius:8px; border:1px solid var(--border); margin:1rem 0 }
.btn-primary{ background:var(--accent); color:#fff; border:none; border-radius:6px; padding:.75rem 1.1rem; font-weight:600; cursor:pointer }

/* Top bar */
#topbar{
  position:fixed; top:0; left:0; right:0; height:52px;
  background:#fff; border-bottom:1px solid var(--border);
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:.75rem;
  padding:0 1rem; z-index:10;
}
.mode-tabs{ justify-self:start; display:flex; gap:.5rem }
.mode-tabs .tab{ background:transparent; border:none; padding:.5rem .75rem; font-weight:600; cursor:pointer; border-bottom:2px solid transparent }
.mode-tabs .tab.active{ border-bottom-color:#000 }
.controls{ display:flex; align-items:center; gap:.5rem }
.decade-controls{ justify-self:center; display:flex; align-items:center; gap:.5rem }
.decade-controls label{ font-size:.9rem; white-space:nowrap }
.decade-controls .sep{ color:#999; font-size:.9rem }
.tool-controls{ justify-self:end; display:flex; align-items:center; gap:.6rem }
.tool-controls label{ font-size:.9rem; white-space:nowrap }
#decadeB:disabled{ opacity:.5 }

/* Opacity slider */
#opacity{
  width:120px; appearance:none; background:transparent; height:18px; padding:0; margin:0;
}
#opacity::-webkit-slider-runnable-track{ height:3px; background:#111; border-radius:2px }
#opacity::-moz-range-track{ height:3px; background:#111; border-radius:2px }
#opacity::-webkit-slider-thumb{
  appearance:none; width:14px; height:14px; border-radius:50%; background:#111; border:1px solid #111; margin-top:-5.5px;
}
#opacity::-moz-range-thumb{ width:14px; height:14px; border-radius:50%; background:#111; border:1px solid #111 }
#opacity:focus-visible{ outline:2px solid #111; outline-offset:2px }
.mode-tabs .btn-clear{ background:transparent; border:none; font-weight:400; color:#6b7280; padding:.5rem; cursor:pointer }
.mode-tabs .btn-clear:hover{ color:#111; text-decoration:underline }

/* Map areas */
.map{ position:absolute; top:52px; bottom:36px; width:100% }
.compare{ position:absolute; top:52px; bottom:36px; left:0; right:0 }
#singleMap{ position:absolute; top:52px; bottom:36px; left:0; right:0 }

/* Force full-screen map containers */
.compare, #singleMap{
  position:fixed !important;
  top:0; left:0; right:0; bottom:0;
  z-index:0;
}
/* Click-safe gutters so bars donâ€™t pass clicks */
.compare::before, #singleMap::before{ content:""; position:absolute; top:0; left:0; right:0; height:52px; pointer-events:none }
.compare::after,  #singleMap::after { content:""; position:absolute; bottom:0; left:0; right:0; height:36px; pointer-events:none }

/* Compare inner maps */
#compare .map, .compare .map{
  position:absolute !important; top:0; left:0; right:0; bottom:0;
  width:100% !important; height:100% !important;
}
/* Keep swipe handle above maps */
.mapboxgl-compare{ z-index:5 }

/* Bottom bar */
#bottombar{
  position:fixed; bottom:0; left:0; right:0; height:36px;
  background:#fff; border-top:1px solid var(--border);
  display:flex; align-items:center; justify-content:flex-end; gap:.5rem; z-index:10;
}

/* Drawer */
.drawer{
  position:fixed; left:0; right:0; bottom:-45vh; height:45vh;
  background:#fff; border-top:1px solid var(--border);
  transition:bottom .25s ease; z-index:20;
}
.drawer.open{ bottom:36px }
.drawer-tabs{ display:flex; gap:.5rem; border-bottom:1px solid var(--border); padding:.5rem }
.drawer-tabs button{ background:transparent; border:none; padding:.4rem .6rem; cursor:pointer; border-bottom:2px solid transparent }
.drawer-tabs button.active{ border-bottom-color:#000 }
.drawer .drawer-body{ padding:.75rem; overflow:auto; height:calc(45vh - 72px); overflow-x:auto }

.pane{ display:none }
.pane.active{ display:block }

/* Card grid, single row of 8 in Stats */
.cards{ display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:.75rem 1rem; align-items:start }
.cards.one-line{
  grid-template-columns:repeat(8, minmax(120px,1fr));
  gap:12px 14px; min-width:980px;
}

/* Cards */
.card{
  display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  background:#fff; border:1px solid var(--border); border-radius:6px;
  padding:.5rem; cursor:pointer; min-height:100px;
}
.card:hover{ background:#eef2ff }
.card .thumb{
  width:100%; height:110px;
  background:#f8fafc center/contain no-repeat;
  border:1px solid var(--border); border-radius:4px;
}
.card.table .thumb{
  display:flex; align-items:center; justify-content:center; background:#fff;
  font-size:.9rem; color:#111; font-weight:500;
}
.card .label{ margin-top:.45rem; font-size:.8rem; color:#111; text-align:center; line-height:1.2 }

/* Lightbox */
.lb-wrap{ position:fixed; inset:0; background:rgba(0,0,0,.5); z-index:30; display:flex; align-items:center; justify-content:center }
.lb-body{ background:#fff; border-radius:10px; max-width:95vw; max-height:90vh; padding:10px; overflow:auto; box-shadow:0 10px 30px rgba(0,0,0,.2) }
.lb-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px }
.lb-header .lb-back, .lb-header .lb-close{ background:#111; color:#fff; border:none; border-radius:6px; padding:.35rem .6rem; cursor:pointer }
.lb-content{ display:flex; flex-direction:row; gap:1rem; align-items:flex-start; justify-content:center; margin-bottom:8px }
.lb-content .lb-media{ flex:1 1 65% }
.lb-content .lb-descbox{
  flex:1 1 35%; background:#fafafa; border:1px solid #e5e7eb; border-radius:6px;
  padding:.75rem; font-size:.9rem; color:#333; line-height:1.4; overflow-y:auto; max-height:70vh;
}
.lb-caption{ font-weight:600; margin-bottom:6px }
.lb-strip{ display:flex; gap:6px; flex-wrap:wrap; justify-content:center }
.lb-thumb{
  width:90px; height:60px; border:1px solid #e5e7eb; border-radius:4px; background:#fff center/cover no-repeat;
  display:flex; align-items:center; justify-content:center; font-size:.75rem; color:#111; cursor:pointer; opacity:.8;
}
.lb-thumb.active{ outline:2px solid #111; opacity:1 }

/* --- Readable content width for About + Proposal --- */
#aboutPane .about,
#proposalPane .about{
  max-width:960px;           /* adjust to taste */
  margin-left:auto;
  margin-right:auto;
  padding-left:24px;
  padding-right:24px;
  padding-top:6px;
  padding-bottom:8px;
}

/* --- Stats description defaults --- */
.stat-desc{ text-align:left }
.stat-desc .desc-title{ margin:.25rem 0 .5rem }
.stat-desc .takeaway{ margin:.5rem 0 0; }
.stat-desc .bullets{ margin:.5rem 0; padding-left:1.1rem }

/* If you want a centered header inside any description, add this class to the element */
.center-title{ text-align:center }
